<UserControl x:Class="OpenFFBoard.PluginSdk.SettingsControl" 
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" 
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
             xmlns:converter="http://metro.mahapps.com/winfx/xaml/iconpacks" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:iconpacks="clr-namespace:MahApps.Metro.IconPacks;assembly=MahApps.Metro.IconPacks.Material" 
             xmlns:local="clr-namespace:OpenFFBoard.PluginSdk" 
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:styles="clr-namespace:SimHub.Plugins.Styles;assembly=SimHub.Plugins" 
             xmlns:ui="clr-namespace:SimHub.Plugins.UI;assembly=SimHub.Plugins" 
             mc:Ignorable="d">
    <UserControl.Resources>
        <!-- Define the BooleanToVisibilityConverter as a resource -->
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </UserControl.Resources>

    <ScrollViewer>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="0*" />
            </Grid.ColumnDefinitions>

            <styles:SHSection Title="Settings WIP BOES WIP VERY WIP" Grid.ColumnSpan="2" ShowSeparator="True">
                <StackPanel>
                    <styles:SHSubSection Title="Connection">
                        <Grid>
                            <Grid HorizontalAlignment="Left">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" VerticalAlignment="Center" Text="Last error: " />
                                <TextBlock Grid.Column="1" VerticalAlignment="Center" x:Name="ViewLastError" Foreground="Red" />
                            </Grid>

                            <Grid HorizontalAlignment="Left">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="380"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                    <ColumnDefinition Width="*"></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid Grid.Column="0" Margin="5, 0" >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"></RowDefinition>
                                        <RowDefinition Height="*"></RowDefinition>
                                        <RowDefinition Height="*"></RowDefinition>
                                    </Grid.RowDefinitions>

                                    <Grid Grid.Row="0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="100"></ColumnDefinition>
                                            <ColumnDefinition Width="60"></ColumnDefinition>
                                            <ColumnDefinition Width="100"></ColumnDefinition>
                                            <ColumnDefinition Width="100"></ColumnDefinition>
                                        </Grid.ColumnDefinitions>

                                        <TextBlock Grid.Column="0"  VerticalAlignment="Center" HorizontalAlignment="Left" Text="COM Selected: " />
                                        <TextBlock Grid.Column="1" VerticalAlignment="Center" x:Name="ViewConnectedTo" />
                                        <styles:SHButtonPrimary Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Left" Click="ViewSelectedCom_Connect">Connect</styles:SHButtonPrimary>
                                        <styles:SHButtonSecondary Grid.Column="3" VerticalAlignment="Center" HorizontalAlignment="Left" Click="ViewSelectedCom_Disconnect">Disconnect</styles:SHButtonSecondary>
                                    </Grid>

                                    <Grid Grid.Row="1" Margin="0,2">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*"></RowDefinition>
                                            <RowDefinition Height="*"></RowDefinition>
                                        </Grid.RowDefinitions>

                                        <Grid Grid.Row="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="230"></ColumnDefinition>
                                            </Grid.ColumnDefinitions>

                                            <ListBox Grid.Column="0"
                                             Name="viewBoards" 
                                             HorizontalContentAlignment="Stretch" 
                                             Loaded="ViewBoards_Loaded" 
                                             SelectionChanged="ViewBoards_SelectionChanged">
                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <Grid Margin="0,2">
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="100" />
                                                            </Grid.ColumnDefinitions>
                                                            <TextBlock Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="{Binding Name}" />
                                                            <Label Grid.Column="1" Content="Connected">
                                                                <Label.Style>
                                                                    <Style TargetType="Label">
                                                                        <Setter Property="Visibility" Value="Hidden"/>
                                                                        <Style.Triggers>
                                                                            <DataTrigger Binding="{Binding IsEnabled}" Value="True">
                                                                                <Setter Property="Visibility" Value="Visible"/>
                                                                            </DataTrigger>
                                                                        </Style.Triggers>
                                                                    </Style>
                                                                </Label.Style>
                                                            </Label>
                                                        </Grid>
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>
                                            </ListBox>
                                        </Grid>

                                        <Grid Grid.Row="1">
                                            <styles:SHToggleCheckbox x:Name="ViewAutoConnectOnStartup" Checked="ViewAutoConnectOnStartup_Checked" Unchecked="ViewAutoConnectOnStartup_Unchecked">
                                                Auto Connect on StartUp
                                            </styles:SHToggleCheckbox>
                                        </Grid>
                                    </Grid>
                                </Grid>

                                <Grid Grid.Column="1" Margin="5, 0" >
                                    <styles:SHButtonPrimary Grid.Row="0" VerticalAlignment="Top" HorizontalAlignment="Left" Click="SaveConfiguration_Click">SAVE PLUGIN CONFIG</styles:SHButtonPrimary>
                                </Grid>

                                <Grid Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Top" Margin="5, 0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"></RowDefinition>
                                        <RowDefinition Height="*"></RowDefinition>
                                    </Grid.RowDefinitions>

                                    <styles:SHButtonPrimary Grid.Row="1" Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Click="SelectProfileJsonPath_Click">
                                        Select Profile JSON Path
                                    </styles:SHButtonPrimary>

                                    <Grid Grid.Row="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="*"></RowDefinition>
                                            <RowDefinition Height="*"></RowDefinition>
                                        </Grid.RowDefinitions>

                                        <TextBlock Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="Selected Profile path: " />
                                        <TextBlock Grid.Row="1" VerticalAlignment="Center" TextWrapping="Wrap" HorizontalAlignment="Left" x:Name="ViewProfileJsonPath" Text="N/A" />
                                    </Grid>
                                </Grid>
                            </Grid>
                        </Grid>
                    </styles:SHSubSection>

                    <styles:SHSectionSeparator />

                    <styles:SHSubSection Title="Profile Data Visualization">
                        <Grid HorizontalAlignment="Left">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="Update manager WILL NOT show the profile in effect because we are setting each settings independent" TextDecorations="Underline" />

                            <styles:SHButtonPrimary Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Left" Click="SetProfileToCurrentGame_Click">Manually set profile based on current game</styles:SHButtonPrimary>

                            <Grid Grid.Row="2" Margin="0,2">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="*" />
                                </Grid.ColumnDefinitions>

                                <TextBlock Grid.Column="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="Profile loaded: " />
                                <TextBlock Grid.Column="1" HorizontalAlignment="Left" x:Name="ViewCurrentActiveProfile" Text="No profile match" />
                            </Grid>

                            <TextBlock Grid.Row="3" HorizontalAlignment="Left" x:Name="ViewProfileData" />
                        </Grid>
                    </styles:SHSubSection>


                    <styles:SHSubSection Title="Current Game Specific Settings" Margin="0 50 0 0">
                        <Grid HorizontalAlignment="Left">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                                <RowDefinition Height="*"></RowDefinition>
                            </Grid.RowDefinitions>

                            <TextBlock Grid.Row="0" VerticalAlignment="Center" HorizontalAlignment="Left" Text="This section I imagine to have some settings per game, like auto-range which for some games is necessary."/>
                        </Grid>
                    </styles:SHSubSection>

                    <styles:SHSubSection Title="Remember" Margin="0 100 0 0">
                        <Label>WIP Got it?</Label>
                    </styles:SHSubSection>

                    <!--  OVERALL DESIGN OPTIONS BELOW
                    
                    <styles:SHButtonPrimary HorizontalAlignment="Left">Primary button</styles:SHButtonPrimary>
                    <styles:SHButtonSecondary HorizontalAlignment="Left">Secondary button</styles:SHButtonSecondary>

                    
                    <styles:SHButtonPrimary x:Name="ConnectBtn" Click="ConnectBtn_Click" Content="Connect" ToolTip="Connect simHub to your Skinetic vest"/>-->

                    <!-- <styles:SHLinkButton HorizontalAlignment="Left">Link button</styles:SHLinkButton>

                    <styles:SHLinkButtonSmall HorizontalAlignment="Left">Link button small</styles:SHLinkButtonSmall>

                    <ui:ControlsEditor ActionName="DataPluginDemo.IncrementSpeedWarning" FriendlyName="Increment Speed Warning" />
                    <ui:ControlsEditor ActionName="DataPluginDemo.InputPressed" FriendlyName="Button mapping" />

                    <styles:SHSectionSeparator />

                    <styles:SHSubSection Title="Subsection">
                        <Label>Subsection content</Label>
                    </styles:SHSubSection>
                    <styles:SHSectionSeparator />

                    <styles:SHToggleCheckbox>
                        Hello
                    </styles:SHToggleCheckbox>
                    <styles:SHSectionSeparator />

                    <styles:SHTabControl>
                        <styles:SHTabItem Header="Tab1" />
                        <styles:SHTabItem Header="Tab2" />
                        <styles:SHTabItem Header="Tab3" />
                    </styles:SHTabControl>
                    <styles:SHSectionSeparator />

                    <styles:SHListBox>
                        <ListBoxItem>Hello 1</ListBoxItem>
                        <ListBoxItem>Hello 2</ListBoxItem>
                        <ListBoxItem>Hello 3</ListBoxItem>
                    </styles:SHListBox>
                    <styles:SHSectionSeparator />

                    <styles:SHExpander>
                        <styles:SHExpander.Header>
                            Expander
                        </styles:SHExpander.Header>
                        Hello 2
                    </styles:SHExpander>
                    <styles:SHSectionSeparator />

                    <styles:SHTitledGroup Title="Titled group">
                        Titled group content
                    </styles:SHTitledGroup>
                    <styles:SHSectionSeparator />

                    <ui:TitledSlider Title="hello" Maximum="100" Minimum="0" Value="50" />

                    <ui:TitledRangeSlider Title="hello" LowerValue="50" Maximum="100" Minimum="0" UpperValue="70" />

                    <styles:SHSectionSeparator />

                    <ui:TitledSlider Title="hello" IsChecked="false" Maximum="100" Minimum="0" ShowCheckbox="True" Value="50" />

                    <styles:SHSectionSeparator />

                    <styles:SHButtonPrimary Click="StyledMessageBox_Click">Show styled messagebox</styles:SHButtonPrimary>
                    <styles:SHButtonPrimary Click="DemoWindow_Click">Open new window</styles:SHButtonPrimary>
                    <styles:SHButtonPrimary Click="DemodialogWindow_Click">Open dialog window</styles:SHButtonPrimary>

                    <styles:SHSectionSeparator />
                    <iconpacks:PackIconMaterial Width="40" Height="40" Kind="Plus" />
-->
                </StackPanel>
            </styles:SHSection>
        </Grid>
    </ScrollViewer>
</UserControl>